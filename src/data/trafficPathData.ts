/**
 * Mock data for Traffic Path Analysis
 */

import type {
  NetworkNode,
  NetworkLink,
  NetworkPath,
  TrafficFlow,
  PathAnomaly,
  BottleneckAnalysis,
  TrafficTopologyMetrics,
  TrafficPathData,
} from '../types/trafficPath';

export const networkNodes: NetworkNode[] = [
  {
    id: 'node-001',
    name: 'Core Router 1',
    type: 'router',
    status: 'healthy',
    ipAddress: '10.0.1.1',
    location: 'Data Center A - Rack 1',
    vendor: 'Cisco',
    model: 'ASR 9000',
    position: { x: 100, y: 200 },
    metrics: {
      cpuUsage: 42,
      memoryUsage: 58,
      bandwidth: 85000, // Mbps
      totalConnections: 1247,
      activeFlows: 8934,
    },
    uptime: '247d 15h 32m',
    lastSeen: '2024-01-19T15:30:00Z',
  },
  {
    id: 'node-002',
    name: 'Core Router 2',
    type: 'router',
    status: 'healthy',
    ipAddress: '10.0.1.2',
    location: 'Data Center A - Rack 2',
    vendor: 'Cisco',
    model: 'ASR 9000',
    position: { x: 300, y: 200 },
    metrics: {
      cpuUsage: 38,
      memoryUsage: 54,
      bandwidth: 85000,
      totalConnections: 1189,
      activeFlows: 8512,
    },
    uptime: '247d 15h 28m',
    lastSeen: '2024-01-19T15:30:00Z',
  },
  {
    id: 'node-003',
    name: 'Edge Firewall',
    type: 'firewall',
    status: 'warning',
    ipAddress: '10.0.2.1',
    location: 'Data Center A - DMZ',
    vendor: 'Palo Alto Networks',
    model: 'PA-5250',
    position: { x: 200, y: 100 },
    metrics: {
      cpuUsage: 78,
      memoryUsage: 82,
      bandwidth: 40000,
      totalConnections: 45231,
      activeFlows: 12847,
    },
    uptime: '89d 7h 12m',
    lastSeen: '2024-01-19T15:30:00Z',
  },
  {
    id: 'node-004',
    name: 'Load Balancer 1',
    type: 'load_balancer',
    status: 'healthy',
    ipAddress: '10.0.3.10',
    location: 'Data Center A - Application Tier',
    vendor: 'F5',
    model: 'BIG-IP 4000s',
    position: { x: 200, y: 300 },
    metrics: {
      cpuUsage: 55,
      memoryUsage: 62,
      bandwidth: 20000,
      totalConnections: 8923,
      activeFlows: 15642,
    },
    uptime: '156d 3h 45m',
    lastSeen: '2024-01-19T15:30:00Z',
  },
  {
    id: 'node-005',
    name: 'Application Server 1',
    type: 'server',
    status: 'healthy',
    ipAddress: '10.0.4.101',
    location: 'Data Center A - App Cluster 1',
    position: { x: 100, y: 400 },
    metrics: {
      cpuUsage: 68,
      memoryUsage: 75,
      bandwidth: 10000,
      totalConnections: 2341,
      activeFlows: 3456,
    },
    uptime: '45d 12h 23m',
    lastSeen: '2024-01-19T15:30:00Z',
  },
  {
    id: 'node-006',
    name: 'Application Server 2',
    type: 'server',
    status: 'healthy',
    ipAddress: '10.0.4.102',
    location: 'Data Center A - App Cluster 1',
    position: { x: 300, y: 400 },
    metrics: {
      cpuUsage: 72,
      memoryUsage: 79,
      bandwidth: 10000,
      totalConnections: 2567,
      activeFlows: 3789,
    },
    uptime: '45d 12h 19m',
    lastSeen: '2024-01-19T15:30:00Z',
  },
  {
    id: 'node-007',
    name: 'AWS Direct Connect Gateway',
    type: 'cloud_gateway',
    status: 'healthy',
    ipAddress: '10.0.5.1',
    location: 'AWS us-east-1',
    vendor: 'Amazon Web Services',
    position: { x: 400, y: 200 },
    metrics: {
      cpuUsage: 25,
      memoryUsage: 32,
      bandwidth: 50000,
      totalConnections: 456,
      activeFlows: 2341,
    },
    uptime: '365d 0h 0m',
    lastSeen: '2024-01-19T15:30:00Z',
  },
  {
    id: 'node-008',
    name: 'Distribution Switch 1',
    type: 'switch',
    status: 'critical',
    ipAddress: '10.0.6.1',
    location: 'Data Center A - Rack 3',
    vendor: 'Arista',
    model: '7500R',
    position: { x: 200, y: 250 },
    metrics: {
      cpuUsage: 92,
      memoryUsage: 88,
      bandwidth: 40000,
      totalConnections: 3421,
      activeFlows: 18923,
    },
    uptime: '12d 8h 34m',
    lastSeen: '2024-01-19T15:30:00Z',
  },
];

export const networkLinks: NetworkLink[] = [
  {
    id: 'link-001',
    source: 'node-003',
    target: 'node-001',
    status: 'active',
    bandwidth: '40 Gbps',
    utilization: 62,
    latency: 0.8,
    packetLoss: 0.01,
    jitter: 0.15,
    protocol: 'LACP',
    vlan: 100,
    cost: 10,
  },
  {
    id: 'link-002',
    source: 'node-003',
    target: 'node-002',
    status: 'active',
    bandwidth: '40 Gbps',
    utilization: 58,
    latency: 0.9,
    packetLoss: 0.01,
    jitter: 0.18,
    protocol: 'LACP',
    vlan: 100,
    cost: 10,
  },
  {
    id: 'link-003',
    source: 'node-001',
    target: 'node-008',
    status: 'congested',
    bandwidth: '10 Gbps',
    utilization: 89,
    latency: 1.2,
    packetLoss: 0.15,
    jitter: 2.3,
    protocol: 'Ethernet',
    vlan: 200,
    cost: 20,
  },
  {
    id: 'link-004',
    source: 'node-002',
    target: 'node-008',
    status: 'active',
    bandwidth: '10 Gbps',
    utilization: 45,
    latency: 1.1,
    packetLoss: 0.02,
    jitter: 0.4,
    protocol: 'Ethernet',
    vlan: 200,
    cost: 20,
  },
  {
    id: 'link-005',
    source: 'node-008',
    target: 'node-004',
    status: 'degraded',
    bandwidth: '10 Gbps',
    utilization: 78,
    latency: 2.5,
    packetLoss: 0.25,
    jitter: 3.8,
    protocol: 'Ethernet',
    vlan: 300,
    cost: 15,
  },
  {
    id: 'link-006',
    source: 'node-004',
    target: 'node-005',
    status: 'active',
    bandwidth: '10 Gbps',
    utilization: 52,
    latency: 0.5,
    packetLoss: 0.01,
    jitter: 0.2,
    protocol: 'Ethernet',
    vlan: 400,
    cost: 5,
  },
  {
    id: 'link-007',
    source: 'node-004',
    target: 'node-006',
    status: 'active',
    bandwidth: '10 Gbps',
    utilization: 58,
    latency: 0.6,
    packetLoss: 0.01,
    jitter: 0.25,
    protocol: 'Ethernet',
    vlan: 400,
    cost: 5,
  },
  {
    id: 'link-008',
    source: 'node-002',
    target: 'node-007',
    status: 'active',
    bandwidth: '10 Gbps',
    utilization: 35,
    latency: 12.5,
    packetLoss: 0.05,
    jitter: 1.2,
    protocol: 'BGP',
    cost: 50,
  },
  {
    id: 'link-009',
    source: 'node-001',
    target: 'node-002',
    status: 'active',
    bandwidth: '100 Gbps',
    utilization: 28,
    latency: 0.3,
    packetLoss: 0,
    jitter: 0.05,
    protocol: 'OSPF',
    vlan: 1,
    cost: 1,
  },
];

export const networkPaths: NetworkPath[] = [
  {
    id: 'path-001',
    name: 'Internet to App Server 1',
    source: networkNodes[2], // Edge Firewall
    destination: networkNodes[4], // App Server 1
    status: 'degraded',
    hops: [
      {
        nodeId: 'node-003',
        nodeName: 'Edge Firewall',
        hopNumber: 1,
        latency: 0.8,
        packetLoss: 0.01,
        interface: 'eth0/0',
        ingressBandwidth: 8234,
        egressBandwidth: 7821,
        queueDepth: 45,
        drops: 12,
      },
      {
        nodeId: 'node-001',
        nodeName: 'Core Router 1',
        hopNumber: 2,
        latency: 1.2,
        packetLoss: 0.02,
        interface: 'ge-0/0/1',
        ingressBandwidth: 7821,
        egressBandwidth: 7234,
        queueDepth: 23,
        drops: 8,
      },
      {
        nodeId: 'node-008',
        nodeName: 'Distribution Switch 1',
        hopNumber: 3,
        latency: 2.5,
        packetLoss: 0.25,
        interface: 'Ethernet1/1',
        ingressBandwidth: 7234,
        egressBandwidth: 6821,
        queueDepth: 892,
        drops: 234,
      },
      {
        nodeId: 'node-004',
        nodeName: 'Load Balancer 1',
        hopNumber: 4,
        latency: 0.5,
        packetLoss: 0.01,
        interface: '1.1',
        ingressBandwidth: 6821,
        egressBandwidth: 6821,
        queueDepth: 12,
        drops: 2,
      },
      {
        nodeId: 'node-005',
        nodeName: 'Application Server 1',
        hopNumber: 5,
        latency: 0.1,
        packetLoss: 0,
        interface: 'ens192',
        ingressBandwidth: 6821,
        egressBandwidth: 6821,
        queueDepth: 0,
        drops: 0,
      },
    ],
    totalLatency: 5.1,
    totalPacketLoss: 0.29,
    bandwidth: 6821,
    mtu: 1500,
    pathCost: 50,
    preferredPath: true,
    redundancyAvailable: true,
    lastUpdated: '2024-01-19T15:30:00Z',
  },
  {
    id: 'path-002',
    name: 'Internet to App Server 2',
    source: networkNodes[2],
    destination: networkNodes[5],
    status: 'optimal',
    hops: [
      {
        nodeId: 'node-003',
        nodeName: 'Edge Firewall',
        hopNumber: 1,
        latency: 0.9,
        packetLoss: 0.01,
        interface: 'eth0/1',
        ingressBandwidth: 7456,
        egressBandwidth: 7234,
        queueDepth: 34,
        drops: 5,
      },
      {
        nodeId: 'node-002',
        nodeName: 'Core Router 2',
        hopNumber: 2,
        latency: 1.1,
        packetLoss: 0.01,
        interface: 'ge-0/0/2',
        ingressBandwidth: 7234,
        egressBandwidth: 7123,
        queueDepth: 18,
        drops: 3,
      },
      {
        nodeId: 'node-008',
        nodeName: 'Distribution Switch 1',
        hopNumber: 3,
        latency: 0.4,
        packetLoss: 0.02,
        interface: 'Ethernet1/2',
        ingressBandwidth: 7123,
        egressBandwidth: 7023,
        queueDepth: 45,
        drops: 12,
      },
      {
        nodeId: 'node-004',
        nodeName: 'Load Balancer 1',
        hopNumber: 4,
        latency: 0.6,
        packetLoss: 0.01,
        interface: '1.2',
        ingressBandwidth: 7023,
        egressBandwidth: 7023,
        queueDepth: 8,
        drops: 1,
      },
      {
        nodeId: 'node-006',
        nodeName: 'Application Server 2',
        hopNumber: 5,
        latency: 0.1,
        packetLoss: 0,
        interface: 'ens192',
        ingressBandwidth: 7023,
        egressBandwidth: 7023,
        queueDepth: 0,
        drops: 0,
      },
    ],
    totalLatency: 3.1,
    totalPacketLoss: 0.05,
    bandwidth: 7023,
    mtu: 1500,
    pathCost: 45,
    preferredPath: false,
    redundancyAvailable: true,
    lastUpdated: '2024-01-19T15:30:00Z',
  },
  {
    id: 'path-003',
    name: 'Data Center to AWS',
    source: networkNodes[0],
    destination: networkNodes[6],
    status: 'optimal',
    hops: [
      {
        nodeId: 'node-001',
        nodeName: 'Core Router 1',
        hopNumber: 1,
        latency: 0.3,
        packetLoss: 0,
        interface: 'ge-0/0/10',
        ingressBandwidth: 4521,
        egressBandwidth: 4521,
        queueDepth: 5,
        drops: 0,
      },
      {
        nodeId: 'node-002',
        nodeName: 'Core Router 2',
        hopNumber: 2,
        latency: 12.5,
        packetLoss: 0.05,
        interface: 'ge-0/0/20',
        ingressBandwidth: 4521,
        egressBandwidth: 4498,
        queueDepth: 34,
        drops: 5,
      },
      {
        nodeId: 'node-007',
        nodeName: 'AWS Direct Connect Gateway',
        hopNumber: 3,
        latency: 0.2,
        packetLoss: 0,
        interface: 'DirectConnect',
        ingressBandwidth: 4498,
        egressBandwidth: 4498,
        queueDepth: 0,
        drops: 0,
      },
    ],
    totalLatency: 13.0,
    totalPacketLoss: 0.05,
    bandwidth: 4498,
    mtu: 9001,
    pathCost: 51,
    preferredPath: true,
    redundancyAvailable: false,
    lastUpdated: '2024-01-19T15:30:00Z',
  },
];

export const trafficFlows: TrafficFlow[] = [
  {
    id: 'flow-001',
    source: '203.0.113.45',
    destination: '10.0.4.101',
    protocol: 'HTTPS',
    port: 443,
    direction: 'inbound',
    volume: 45678234567,
    packets: 34521234,
    bps: 8234567890,
    pps: 15234,
    startTime: '2024-01-19T15:15:00Z',
    duration: 900,
    applicationName: 'Web Application',
    tags: ['production', 'external', 'encrypted'],
  },
  {
    id: 'flow-002',
    source: '10.0.4.101',
    destination: '172.31.0.50',
    protocol: 'MySQL',
    port: 3306,
    direction: 'outbound',
    volume: 12345678901,
    packets: 8234567,
    bps: 2345678901,
    pps: 4521,
    startTime: '2024-01-19T15:20:00Z',
    duration: 600,
    applicationName: 'Database Queries',
    tags: ['production', 'internal', 'database'],
  },
  {
    id: 'flow-003',
    source: '10.0.4.102',
    destination: '10.255.0.1',
    protocol: 'DNS',
    port: 53,
    direction: 'outbound',
    volume: 234567,
    packets: 5678,
    bps: 456789,
    pps: 12,
    startTime: '2024-01-19T15:28:00Z',
    duration: 120,
    applicationName: 'DNS Resolution',
    tags: ['internal', 'dns'],
  },
  {
    id: 'flow-004',
    source: '10.0.4.101',
    destination: '52.94.76.0',
    protocol: 'HTTPS',
    port: 443,
    direction: 'outbound',
    volume: 9876543210,
    packets: 6543210,
    bps: 1876543210,
    pps: 2345,
    startTime: '2024-01-19T15:10:00Z',
    duration: 1200,
    applicationName: 'S3 API Calls',
    tags: ['production', 'aws', 'storage'],
  },
];

export const pathAnomalies: PathAnomaly[] = [
  {
    id: 'anomaly-001',
    type: 'latency_spike',
    severity: 'high',
    pathId: 'path-001',
    affectedHop: 'node-008',
    description: 'Latency spike detected on Distribution Switch 1 - Queue depth exceeded threshold',
    detectedAt: '2024-01-19T15:25:00Z',
    duration: 320,
    impact: 'User-facing application experiencing 2.5ms additional latency, affecting SLA',
    baseline: {
      metric: 'Hop Latency',
      normalValue: 0.8,
      currentValue: 2.5,
      deviation: 212,
    },
    recommendation: 'Investigate switch CPU utilization (92%) and consider traffic shaping or upgrading link capacity',
  },
  {
    id: 'anomaly-002',
    type: 'packet_loss',
    severity: 'critical',
    pathId: 'path-001',
    affectedHop: 'node-008',
    description: 'Packet loss exceeding 0.2% threshold on Distribution Switch 1',
    detectedAt: '2024-01-19T15:22:00Z',
    duration: 480,
    impact: 'TCP retransmissions causing application timeouts and degraded user experience',
    baseline: {
      metric: 'Packet Loss',
      normalValue: 0.01,
      currentValue: 0.25,
      deviation: 2400,
    },
    recommendation: 'Immediate investigation required - switch showing signs of buffer overflow. Consider emergency maintenance.',
  },
  {
    id: 'anomaly-003',
    type: 'bandwidth_saturation',
    severity: 'medium',
    pathId: 'path-001',
    affectedHop: 'node-001',
    description: 'Link utilization approaching capacity on Core Router 1 to Distribution Switch 1',
    detectedAt: '2024-01-19T15:18:00Z',
    duration: 720,
    impact: 'Potential congestion during peak hours, may lead to quality degradation',
    baseline: {
      metric: 'Link Utilization',
      normalValue: 65,
      currentValue: 89,
      deviation: 37,
    },
    recommendation: 'Plan link upgrade from 10 Gbps to 40 Gbps or implement traffic engineering to balance load',
  },
  {
    id: 'anomaly-004',
    type: 'asymmetric_path',
    severity: 'low',
    pathId: 'path-003',
    description: 'Asymmetric routing detected between Data Center and AWS - return path differs from forward path',
    detectedAt: '2024-01-19T14:45:00Z',
    duration: 2700,
    impact: 'Potential for stateful firewall issues and troubleshooting complexity',
    baseline: {
      metric: 'Path Symmetry',
      normalValue: 100,
      currentValue: 45,
      deviation: 55,
    },
    recommendation: 'Review BGP preferences and AS path prepending to enforce symmetric routing',
  },
];

export const bottleneckAnalysis: BottleneckAnalysis[] = [
  {
    nodeId: 'node-008',
    nodeName: 'Distribution Switch 1',
    type: 'cpu',
    severity: 'critical',
    currentValue: 92,
    threshold: 80,
    affectedFlows: 18923,
    estimatedImpact: 'High latency and packet loss affecting all flows through this switch',
    recommendation: 'Immediate action: Offload BGP processing to route reflector or upgrade to higher capacity switch',
  },
  {
    nodeId: 'node-003',
    nodeName: 'Edge Firewall',
    type: 'cpu',
    severity: 'high',
    currentValue: 78,
    threshold: 75,
    affectedFlows: 12847,
    estimatedImpact: 'Connection table nearing capacity, may start dropping new connections',
    recommendation: 'Scale horizontally by adding another firewall or optimize security policies to reduce inspection overhead',
  },
  {
    nodeId: 'node-008',
    nodeName: 'Distribution Switch 1',
    type: 'bandwidth',
    severity: 'high',
    currentValue: 89,
    threshold: 80,
    affectedFlows: 8234,
    estimatedImpact: 'Link congestion causing queuing delays and potential packet drops',
    recommendation: 'Upgrade link from 10 Gbps to 40 Gbps or implement QoS to prioritize critical traffic',
  },
  {
    nodeId: 'node-004',
    nodeName: 'Load Balancer 1',
    type: 'memory',
    severity: 'medium',
    currentValue: 62,
    threshold: 70,
    affectedFlows: 15642,
    estimatedImpact: 'Session table growth may impact performance during traffic spikes',
    recommendation: 'Monitor closely and plan memory upgrade or connection limits adjustment',
  },
];

export const topologyMetrics: TrafficTopologyMetrics = {
  totalNodes: 8,
  totalLinks: 9,
  activePaths: 3,
  totalTrafficVolume: 67.8, // GB
  averageLatency: 7.07, // ms
  averageUtilization: 55.2, // percentage
  healthScore: 72, // 0-100
  anomalyCount: 4,
  lastUpdated: '2024-01-19T15:30:00Z',
};

export const trafficPathData: TrafficPathData = {
  nodes: networkNodes,
  links: networkLinks,
  paths: networkPaths,
  flows: trafficFlows,
  anomalies: pathAnomalies,
  bottlenecks: bottleneckAnalysis,
  metrics: topologyMetrics,
  lastAnalysis: '2024-01-19T15:30:00Z',
};
